
export XDG_DATA_HOME=${XDG_DATA_HOME-~/.local/share}
export XDG_CONFIG_HOME=${XDG_CONFIG_HOME-~/.config}
export PROJECT_HOME=/opt/epics

#### SETUP GATEWAY KEYCHAIN FILE
# Environment: EPICS_PVA_TLS_KEYCHAIN
# Default    : ${XDG_CONFIG_HOME}/pva/1.5/client.p12
export EPICS_PVA_TLS_KEYCHAIN=${XDG_CONFIG_HOME}/pva/1.5/gateway.p12
# Environment: EPICS_PVAS_TLS_KEYCHAIN
# Default    : ${XDG_CONFIG_HOME}/pva/1.5/server.p12
# We will take the keychain from the conf file
SVR_KEYCHAIN=$(grep gatewayS gateway.conf > /dev/null && echo "gatewayS" || echo "gateway")
export EPICS_PVAS_TLS_KEYCHAIN=${XDG_CONFIG_HOME}/pva/1.5/${SVR_KEYCHAIN}.p12

#### SETUP Gateway Organisation
# Environment: EPICS_PVA_AUTH_ORGANIZATION
# Default    : <hostname>
export EPICS_PVA_AUTH_ORGANIZATION=epics.org

# set path
export EPICS_HOST_ARCH=$(${PROJECT_HOME}/epics-base/startup/EpicsHostArch)
export PATH="${PROJECT_HOME}/pvxs/bin/${EPICS_HOST_ARCH}:$PATH"
export PATH="${PROJECT_HOME}/p4p/bin/${EPICS_HOST_ARCH}:$PATH"

cd ~
